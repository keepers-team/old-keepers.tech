---
title: Настройки от участников
weight: 1
---
{{<details-style>}}
{{<details "HukuToc2288, 31.25-37.5 МБ/c, 3+10 ТБ, 24к раздач, открытый порт" open>}}

* ПО: qBittorrent 4.4.1, Ubuntu 20.04
* Потребление ОЗУ: ~4.3 ГБ
* Дневная отдача по трекеру: 1.5-2 ТБ
* Нагрузка на диски:
    * 10 ТБ — 30-80%
    * 3 ТБ — 20-70%
* Файловая система: Ext4 на всех дисках

### Настройки клиента

**Вкладка "Connection":**

![Вкладка "Connection"](/images/client-configs/hukutoc2288/connections.png)

Глобальный максимум нужно установить, чтобы не захлебнулся диск, если все торренты попытаются раздваться одновмеренно.
Количество слотов на торрент при большем объёме хранилища или меньшем объёме канала можно уменьшить до одного. 5 стоит в
данном случае, так как у меня хватает канала для раздачи не только редких.

**Вкладка "Speed":**

![Вкладка "Speed"](/images/client-configs/hukutoc2288/speed.png)

Здесь особо ничего интересного, скорость ограничивается днём, чтобы хватала канала ещё и для работы, а ночью скорость
без ограничений. Кстати, помогает соблюдать режим дня)

**Вкладка "BitTorrent":**

![Вкладка "BitTorrent"](/images/client-configs/hukutoc2288/bittorrent.png)

Лимиты на активные и неактивные торренты нужно установить, чтобы не захлебнулся диск, и чтобы обеспечить приемлемую
скорость скачивания для каждого скачивающего. Количество активных торрентов ставилось из расчёта 1 МБ/с на торрент (
зачастую люди по _неизвестным причинам_ качают и того медленнее) + округление до красивой цифры. Обязательно нужна
галочка "Do not count slow torrents in these limits", иначе qBittorrent так же считает простаивающие торренты в лимит.
Чтобы все торренты не начали раздваться одновременно со скоростью 10 КБ/с, используется ограничение на вкладке
Connections.

**Вкладка "Advanced"**

![Вкладка "Advanced"](/images/client-configs/hukutoc2288/advanced.png)

Здесь самое
главное. [Send buffer low watermark](https://www.libtorrent.org/reference-Settings.html#send_buffer_watermark) АБСОЛЮТНО
ВСЕМ рекомендую поставить не менее 4096, что соответствует традиционному размеру одной части торрента. Данное значение
определяет, сколько килобайт с диска читается за раз при отдаче. По умолчанию оно стоит в 10, что для диска, скорость
последовательного чтения которого ~200 МБ/с, очень мало, и вынуждает головку постоянно прыгать. Send buffer watermark я
устанавливаю обычно в 2 раза больше чем Send buffer low watermark.

### Что ещё было сделано

Так как объём дисков различается более чем в 3 раза, для равномерного распределения нагрузки наиболее популярные раздачи
переносятся на маленький диск, а наименее популярные — на большой. Делается это в основном вручную.

{{</details>}}