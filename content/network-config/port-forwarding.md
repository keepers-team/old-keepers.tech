---
title: "Открытие/проброс порта"
weight: 2
---
Данный раздел будет полезен только тем, кто владеет белым IP. И наоборот — если вы приобрели внешний адрес, то ваши
вложения окажутся напрасными, если вы не откроете порт.

Обычно, в целях безопасности, большинство портов закрыто на роутере или в брандмауэре. С закрытыми портами клиент так же
может инициировать соединения, но вот, чтобы принимать соединения, порт всё-таки понадобится открыть.

### Какие порты нужно открыть?

Открыть вам требуется один единственный порт. Для начала вам нужно узнать или установить порт входящих соединений в
целевом торрент-клиенте (позже будет описано в настройке клиентов). Обязательно нужно убрать галочку "случайный порт",
если она есть. Порт веб-интерфейса открывать не нужно!

### Открыт ли у меня порт?

Проверить, открыт ли тот или иной порт на компьютере можно с помощью сайта [2ip](https://2ip.io/ru/check-port/)

### Проброс порта в роутере

Этот шаг предстоит выполнить всем, кто использует роутер для выхода в интернет. Как открыть порт на разных моделях
роутеров хорошо описано [здесь](https://lumpics.ru/how-to-open-ports-on-router/)

### Открытие порта в брандмауэре Windows

### Открытие порта в ufw на Ubuntu

Если вы используете ufw, то порт можно открыть командой `sudo ufw allow in <порт клиента>`. Протокол в данном случае не
указывается, так как торренты могут работать и по TCP, и по UDP. Иногда, есть установлен пакет **iptables-persistent** или
**netfilter-persistent**, ufw может страдать "потерей памяти" после перезапуска. В таком случае после настройки правил нужно
выполнить команду `sudo netfilter-persistent save`, которая сохранит фильтры и применит их при загрузке.

### Открытие порта в iptables на Linux

Для всех (наверное) дистрибутивов Linux порт можно открыть, используя iptables:

```
iptables -A INPUT -p tcp --dport <порт клиента> -j ACCEPT

iptables -A INPUT -p udp --dport <порт клиента> -j ACCEPT
```

Данные команды должны выполняться с правами root, они отроют порт на всех интерфейсах для TCP и uTP. Учтите, что правила
iptables сбрасываются при перезагрузке ПК, поэтому после добавления правил вам нужно сохранить их утилитой **
netfilter-persistent**, **iptables-save** или подобной, в зависимости от вашего дистрибутива.